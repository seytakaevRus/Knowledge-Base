2023-09-29 13:48
Tags: #web #react 
## Для чего

Позволяет генерировать уникальный id, которое может быть передано для атрибутов доступности.

```js
const id = useId()
```

---
### useId()
### Параметры

Хук не принимает никаких параметров.
### Возвращаемое значение

Хук возвращает уникальный id строку, связанную с этим конкретным вызовом useId в этом конкретном компоненте.
### Предостережения

Как и любой хук его можно вызывать только на верхнем уровне компонента или в собственных хуках. Нельзя вызывать внутри цикла или в условиях.

`useId` не должен использоваться для генерации ключей в массиве.

---
## Использование

### Генерация уникального ID для атрибутов доступности

```js
function App() {
	const [count, setCount] = useState(0);
	
	useEffect(() => {
		setInterval(() => {
			setCount((c) => c + 1);
		}, 2000);
	}, []);

	const useCustomHook = (count: number) => {
		useDebugValue(count % 2 === 0 ? 'even' : 'odd');
	};
	
	useCustomHook(count);
	
	return <div>{count}</div>;
}```

В зависимости от `count` в React DevTools будет выведено: 
1.   CustomHook2: "odd";
2.   CustomHook2: "event"

> Не нужно добавлять этот хук в каждый кастомный хук. Наиболее разумно добавлять его в хуки, которые являются частью общей библиотеки и имеют сложную внутреннюю структуру данных, которую трудно дебажить.

### Использование параметра format

Вторым параметром передана функция, которая принимает строку и вызывает функцию `toUpperCase`.

```js
const useCustomHook = (count: number) => {
    useDebugValue(count % 2 === 0 ? 'even' : 'odd', (status) =>
      status.toUpperCase(),
    );
};

useCustomHook(count);
```
