2023-10-10 23:28
Tags: #leetcode
## Description

**Example 1:**
>**Input:** ``
	``
	``
>**Output:**  ``
	``
	``

**Example 2:**
>**Input:** ``
	``
	``
>**Output:**  ``
	``
	``

**Example 3:**
>**Input:** ``
	``
	``
>**Output:**  ``
	``
	``

## Answers

### Answer 1

```typescript
type Callback = (...params: any[]) => Promise<any>;

function timeLimit(callback: Callback, timeLimit: number): Callback {
  return function (...args) {
    const timeStart = Date.now();

    return new Promise((resolve, reject) => {
      const timerId = setInterval(() => {
        const timeEnd = Date.now() - timeStart;

        if (timeEnd > timeLimit) {
          clearInterval(timerId);
          reject('Time Limit Exceeded');
        }
      }, 10);

      callback(...args)
        .then(data => resolve(data))
        .catch((error) => reject(error));
    });
  };
}
```
### Answer 2

```typescript
type Callback = (...params: any[]) => Promise<any>;

function timeLimit(callback: Callback, timeLimit: number): Callback {
  return function (...args) {
    return new Promise((resolve, reject) => {
      const timerId = setTimeout(() => {
          reject('Time Limit Exceeded');
      }, timeLimit);

      callback(...args)
        .then(data => resolve(data))
        .catch((error) => reject(error))
        .finally(() => clearTimeout(timeLimit));
    });
  };
}
```
### Answer 3

```typescript
type Callback = (...params: any[]) => Promise<any>;

function timeLimit(callback: Callback, timeLimit: number): Callback {
  return function (...args) {
      const originalPromise = callback(...args);
      const timeoutPromise = new Promise((_, reject) => {
          setTimeout(() => {
              reject('Time Limit Exceeded');
          }, timeLimit);
      });

      return Promise.race([originalPromise, timeoutPromise]);
  };
}
```