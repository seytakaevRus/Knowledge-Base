---
level: easy
tags:
  - leetcode
---
## Description

Дается функция `fn`, массив аргументов `args`, и интервальное время `t` в мс, нужно вернуть функцию отмены `cancelFn`.

Функция `fn` должна быть вызвана с аргументами `args` сразу же и затем каждый раз через интервал `t` в мс до тех пор пока `cancelFn` через `cancelT` будет вызвана.

**Example 1:**
>**Input:**
	`fn = (x) => x * 2`
	`args = [4]`
	`t = 35`
	`cancelT = 190`
>**Output:**
`[
   `{"time": 0, "returned": 8},`
   `{"time": 35, "returned": 8},`
   `{"time": 70, "returned": 8},`
  `{"time": 105, "returned": 8},`
   `{"time": 140, "returned": 8},`
  `{"time": 175, "returned": 8}`
`]`

**Example 2:**
>**Input:**
	`fn = (x1, x2) => (x1 * x2)`
	`args = [2, 5]`
	`t = 30`
	`cancelT = 165`
>**Output:** 
`[`
 `{"time": 0, "returned": 10},`
 `{"time": 30, "returned": 10},`
 `{"time": 60, "returned": 10},`
 `{"time": 90, "returned": 10},`
 `{"time": 120, "returned": 10},`
 `{"time": 150, "returned": 10}`
`]`

## Answers

```typescript
type JSONValue = null | boolean | number | string | JSONValue[] | { [key: string]: JSONValue };
type Callback = (...args: JSONValue[]) => void

function cancellable(callback: Callback, args: JSONValue[], intervalTime: number): Function {
    callback(...args);

	const timerId = setInterval(() => {
        callback(...args);
    }, intervalTime);

    return () => {
        clearInterval(timerId);
    }
};
```
