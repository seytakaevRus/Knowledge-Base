---
level: easy
tags:
  - typescript
  - infer-tricks
linkToTask: https://typehero.dev/challenge/day-9
---
## Subscription

*Сейчас раннее субботнее утро, и команда работает сверхурочно. Санта с криками врывается в заводской цех..]*

*Санта* Неужели вы, эльфы, не гордитесь своей работой?!?! Другие хотели бы получить вашу работу за гораздо меньшую плату! Я попросил простой тип, который будет переворачивать строки! Насколько это сложно?!? За что мы вам вообще платим???

*к сожалению, Санта удобно забывает, что тип Reverse был исключен из спринта (на что... конечно... он согласился)*

*менеджер этажа* Хорошо. У нас так и не было критериев приемлемости этого билета.

*Санта* Насколько сложно понять, что делает Reverse!? «rehsaD» должен быть преобразован в «Dasher», «recnaD» должен быть преобразован в «Dancer», «recnarP» должен быть преобразован в «Prancer».. НУЖНО ЛИ МНЕ ПРОДОЛЖАТЬ?

*менеджер этажа* Ну, вы можете быть удивлены. Например, что должно произойти с символами Юникода с несколькими кодовыми точками?

*Санта* О чем ты опять говоришь со всеми этими вещами о доступности!

*менеджер этажа* Доступность важна, сэр.

*Санта* Смотри, это всего лишь MVP. Мы можем добавить доступность позже. Просто принеси мне мой реверс-тип! Иначе мне будет трудно это читать!

Пример кода:

```typescript
type test_0_actual = Reverse<'rehsaD'>;
type test_0_expected = 'Dasher';
```

---
## Solution

```typescript
type Reverse<T extends string, K extends string = ''> = T extends `${infer first}${infer rest}` ?
  Reverse<rest, `${first}${K}`>
 : K;
```

---
## Explanation

Мы перебираем из строки по одному символу при помощи infer, доставая первый элемент first и остаток rest. Далее мы рекурсивно вызываем Reverse, передавая остаток rest и во временный тип K добавляем first. Рано или поздно тип T перестанет расширять шаблон `${infer first}${infer rest}` так как T рано или поздно будет пустой строкой и рекурсия прервется.